
# Load Antigen
source ~/antigen.zsh

# # Load Antigen configurations
antigen init ~/.antigenrc

# ZSH Configuration
HISTFILE=~/.histfile
HISTSIZE=999999999
SAVEHIST=$HISTSIZE
setopt autocd extendedglob nomatch
unsetopt appendhistory beep notify

# Alias
alias ll='ls -lah --color'

# Functions
mkcd() { mkdir -p "$@" && cd "$@"; }

tp () {
    gpg -d -q .sshpassword.gpg > /tmp/fifo; sshpass -f /tmp/fifo ssh $1
    rm -f /tmp/fifo
}

kset () {
    export KUBECONFIG=.kube/$1
    tmux setenv KUBECONFIG ~/.kube/$1
    kubectl config use-context $1
}

# Kubernetes
FILE=/usr/local/bin/kubectl
if [[ -f "$FILE" ]]; then
    # source <(kubectl completion zsh)
    alias k=kubectl
    # complete -F __start_kubectl k
    # source $HOME/.antigen/bundles/robbyrussell/oh-my-zsh/plugins/kubectl/kubectl.plugin.zsh
fi

# VI Mode Jaime
# Vi line editmode
# autoload -z edit-command-line
# zle -N edit-command-line
# bindkey "^v" edit-command-line
# fpath=(/usr/local/share/zsh-completions $fpath)
#
# Enable
bindkey -v
# Global
bindkey "^?" backward-delete-char
# Insert Mode
bindkey -M viins '^a'    beginning-of-line
bindkey -M viins '^e'    end-of-line
# bindkey -M viins '^p'    history-beginning-search-backward
# bindkey -M viins '^n'    history-beginning-search-forward
bindkey -M viins '^p'    history-substring-search-up
bindkey -M viins '^n'    history-substring-search-down
bindkey -M viins '^y'    yank
bindkey -M viins '^w'    backward-kill-word
bindkey -M viins '^u'    backward-kill-line
bindkey -M viins 'jk'    vi-cmd-mode
# CMD mode
bindkey -M vicmd '^a'    beginning-of-line
bindkey -M vicmd '^e'    end-of-line
# bindkey -M vicmd '^p'    history-beginning-search-backward
# bindkey -M vicmd '^n'    history-beginning-search-forward
bindkey -M vicmd '^p'    history-substring-search-up
bindkey -M vicmd '^n'    history-substring-search-down
bindkey -M vicmd '^y'    yank
bindkey -M vicmd '^w'    backward-kill-word
bindkey -M vicmd '^u'    backward-kill-line
bindkey -M vicmd '/'     vi-history-search-forward
bindkey -M vicmd '?'     vi-history-search-backward

